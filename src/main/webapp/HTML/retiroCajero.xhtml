<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:a="http://xmlns.jcp.org/jsf/passth/rough">
<h:head>
</h:head>
<ui:composition template="plantillaCajero.xhtml">
	<body>
		<ui:define name="formCajero">
			<div class="container-fluid">
				<div class="row-fluid">
					<div class="span12">
						<div class="widget-box">
							<div class="widget-content nopadding" style="color: black">
								<h3 class="box-title" align="center">Registrar Retiro</h3>
								<div align="right" style="margin-right: 3%;">
									<script>
										var f = new Date();
										document.write(f.getDate() + "/"
												+ (f.getMonth() + 1) + "/"
												+ f.getFullYear());
									</script>
								</div>
								<h:form id="formulario" class="form-horizontal">
									<h:messages class="alert text-center" />
									<div class="control-group">
										<label class="control-label">Cuenta:</label>
										<div class="controls">
											<h:inputText id="cuentaField"
												value="#{registroCajero.cuenta.id}" class="span11"
												style="width: 20%;" />


											<h:commandButton action="#{registroCajero.obtenerCuenta()}"
												value="Buscar" class="btn btn-success"
												style="margin-right: 20%;" update="table" />
										</div>



									</div>



									<div class="control-group">
										<label class="control-label">Monto:</label>
										<div class="controls">
											<h:inputText value="#{registroCajero.transaccion.monto}"
												class="span11" style="width: 20%;" />
										</div>
									</div>



									<div class="form-actions" align="center">
										<h:commandButton action="#{registroCajero.realizaRetiro()}"
											value="Guardar" class="btn btn-success"
											style="margin-right: 20%;" update="formulario" />
									</div>

									<h:dataTable value="#{registroCajero.cuenta.propietario}" var="person"
										class="table">
										<h:column>
											<f:facet name="header">CÃ©dula</f:facet>
											#{person.cedula}
										</h:column>
										<h:column>
											<f:facet name="header">Nombre</f:facet>
											#{person.nombre}
										</h:column>
										<h:column>
											<f:facet name="header">Apellido</f:facet>
											#{person.apellido}
										</h:column>
										<h:column>
											<f:facet name="header">Saldo</f:facet>
											#{registroCajero.cuenta.saldo}
										</h:column>
									</h:dataTable>

								</h:form>
							</div>
						</div>
					</div>
				</div>
			</div>
		</ui:define>
	</body>
</ui:composition>
</html>
